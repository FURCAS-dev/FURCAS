<?xml version="1.0" encoding="UTF-8"?>
<mappings xmlns="http://sap.com/moin/xm/parser"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://sap.com/moin/xm/parser C:\japro\moin_dev\moin\moin.base\dev\src\_com.sap.tc.moin.xm\libm\core\schemas\ParserMapping.xsd">

	<!--  test certain aspects - like child groups and class and association variables-->
	<namespaces>
		<namespace uri="http://sap.com/moin/xm/test/Person" prefix="pp" />
	</namespaces>

	<defaultContainer>sap.com/tc/moin/testcases/mc</defaultContainer>
	<defaultPackagePath>mc.test</defaultPackagePath>

	<xmlElement name="company" prefix="pp">

		<variable name="companyInstanceVar" type="instance" />
		
		<instance class="Company" output="companyInstanceVar" />

		<xmlElement name="employee" prefix="pp">

			<variable name="employeeInstanceVar" type="instance" />
			<childGroupCall groupId="person" input="companyInstanceVar, #Employee#, employeeInstanceVar"
			                                 output="employeeInstanceVar" />
			<childGroupCall groupId="address" input="employeeInstanceVar" />
			<xmlElement name="equipment" prefix="pp">
				<instance class="Equipment"/>
				<innerLink association="EquipmentsOfEmployee"
					endBName="equipments" endA="employeeInstanceVar" />
				<xmlAttribute name="id">
					<attribute name="id" />
				</xmlAttribute>
			</xmlElement>
		</xmlElement>

		<xmlElement name="customer" prefix="pp">
			<variable name="customerInstanceVar" type="instance" />
			<childGroupCall groupId="person" input="companyInstanceVar, #Customer#, customerInstanceVar"
			                                 output="customerInstanceVar" />
			<childGroupCall groupId="address" input="customerInstanceVar" />
		</xmlElement>
	</xmlElement>

	<childGroup groupId="person" input="instance VarCompanyInstance, class personClassVar, instance VarPersonInstanceInput"
	    output="instance VarPersonInstance">
		<xmlElement name="name" prefix="pp">
			<variable name="personNameVar" type="string" />
			<binding variable="personNameVar" />
			<instance class="$personClassVar$"
				output="VarPersonInstance" logicalKey="personNameVar" />
			<innerLink association="CustomersOrEmployeesOfCompany" endBName="persons"
				endA="VarCompanyInstance" />
			<attribute name="name" instance="VarPersonInstance" />
		</xmlElement>
		<xmlElement name="title" prefix="pp">
			<attribute name="title" instance="VarPersonInstanceInput" />
		</xmlElement>
	</childGroup>

	<childGroup groupId="address" input="instance VarPersonAddInstance">
		<xmlElement name="address" prefix="pp">
			<instance class="Address" />
			<innerLink association="AddressesOfPerson"
				endA="VarPersonAddInstance" endBName="addresses" />
			<xmlElement name="town" prefix="pp">
				<attribute name="town" />
			</xmlElement>
			<xmlElement name="street" prefix="pp">
				<instance class="Street" />
				<innerLink association="StreetOfAddress"
					endBName="street" />
				<xmlElement name="name" prefix="pp">
					<attribute name="name" />
				</xmlElement>
				<xmlElement name="number" prefix="pp">
					<attribute name="number" />
				</xmlElement>
			</xmlElement>
		</xmlElement>
	</childGroup>
</mappings>