[comment encoding = UTF-8 /]
[module generateXtextVisitors('http://www.eclipse.org/emf/2002/Ecore')/]

[import generateVisitors/]

[template public generate(pkg : EPackage, javaPackage : String, modelPackage : String, visitorClass : String, visitorBasePackage : String, visitorBaseClass : String, sourceFile : String) ? (pkg.eContainer() = null)]
[comment @main /]
[if (visitorBaseClass.size() = 0)]
[pkg.generateVisitableInterface(javaPackage, 'VisitableCS', visitorClass, sourceFile)/]
[pkg.generateVisitorInterface(javaPackage, modelPackage, visitorClass, 'org.eclipse.ocl.examples.xtext.base.util.VisitableCS', sourceFile)/]
[pkg.generateAbstractVisitor(javaPackage, visitorClass, 'org.eclipse.ocl.examples.xtext.base.util.VisitableCS', sourceFile)/]
[pkg.generateAbstractDelegatingVisitor(javaPackage, modelPackage, visitorClass, '', 'AbstractBaseCSVisitor', 'org.eclipse.ocl.examples.xtext.base.util.VisitableCS', sourceFile)/]
[pkg.generateAbstractExtendingVisitor(javaPackage, modelPackage, visitorClass, 'AbstractBaseCSVisitor', sourceFile)/]
[else]
[pkg.generateDerivedVisitorInterface(javaPackage, modelPackage, visitorClass, visitorBasePackage, visitorBaseClass, sourceFile)/]
[pkg.generateDerivedAbstractVisitor(javaPackage, visitorClass, visitorBasePackage, visitorBaseClass, 'org.eclipse.ocl.examples.xtext.base.util.VisitableCS', sourceFile)/]
[pkg.generateAbstractExtendingVisitor(javaPackage, modelPackage, visitorClass, visitorBasePackage + '.AbstractExtending' + visitorBaseClass, sourceFile)/]
[comment pkg.generateAbstractMonitorVisitor(javaPackage, modelPackage, 'AbstractMoniker' + visitorClass, visitorBasePackage + 'ities.Moniker' + visitorBaseClass, sourceFile)/]
[pkg.generateAbstractDelegatingVisitor(javaPackage, modelPackage, visitorClass, visitorBasePackage, visitorBaseClass, 'org.eclipse.ocl.examples.xtext.base.util.VisitableCS', sourceFile)/]
[pkg.generateAbstractExtendingDelegatingVisitor(javaPackage, modelPackage, visitorClass, visitorBasePackage, visitorBaseClass, 'org.eclipse.ocl.examples.xtext.base.util.VisitableCS', sourceFile)/]
[/if]
[pkg.generateAbstractNullVisitor(javaPackage, modelPackage, visitorClass, sourceFile)/]
[pkg.generateDecorableVisitorInterface(javaPackage, visitorClass, visitorBasePackage, visitorBaseClass, 'org.eclipse.ocl.examples.xtext.base.util.BaseCSVisitor', sourceFile)/]
[/template]
