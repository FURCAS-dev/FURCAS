<?xml version="1.0" encoding="UTF-8"?>
<ecore:EPackage xmi:version="2.0"
    xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:ecore="http://www.eclipse.org/emf/2002/Ecore" name="benchframework"
    nsURI="http://de.hpi.sam.bp2009.benchframework" nsPrefix="benchframework">
  <eClassifiers xsi:type="ecore:EClass" name="Engine">
    <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
      <details key="documentation"/>
    </eAnnotations>
    <eOperations name="benchmark"/>
    <eOperations name="getRegisteredOperators">
      <eGenericType eClassifier="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EEList">
        <eTypeArguments eClassifier="#//Operator"/>
      </eGenericType>
    </eOperations>
    <eOperations name="getRegisteredResultProcessors">
      <eGenericType eClassifier="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EEList">
        <eTypeArguments eClassifier="#//ResultProcessor"/>
      </eGenericType>
    </eOperations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="testRuns" upperBound="-1"
        eType="#//TestRun"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="exeptionsDuringLastRun"
        transient="true">
      <eGenericType eClassifier="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EEList">
        <eTypeArguments eClassifier="#//Exception"/>
      </eGenericType>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="Operator" abstract="true" interface="true">
    <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
      <details key="documentation"/>
    </eAnnotations>
    <eOperations name="execute"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="option" eType="#//OptionObject"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="result" eType="#//ResultObject"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="testRun" eType="#//TestRun"
        eOpposite="#//TestRun/operators"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="name" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"
        defaultValueLiteral=""/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="description" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="ResultProcessor" abstract="true" interface="true">
    <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
      <details key="documentation" value="Subclasses are responsible for rendering testrun result processing"/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="resultPage" eType="#//WizardPage"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="testrun" eType="#//TestRun"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="OptionObject" abstract="true" interface="true">
    <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
      <details key="documentation" value="The base class of all option for an operator, should be subclasses to support specific concepts."/>
    </eAnnotations>
    <eOperations name="getOptionsAsMap">
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="documentation" value="used for text based interfaces&#xD;&#xA;OptionObject should be able to extract their information out of this map"/>
      </eAnnotations>
      <eGenericType eClassifier="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EMap">
        <eTypeArguments eClassifier="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
        <eTypeArguments eClassifier="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EJavaObject"/>
      </eGenericType>
    </eOperations>
    <eOperations name="setOptionsAsMap">
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="documentation" value="used for text based interfaces&#xD;&#xA;OptionObject should be able to extract their information out of this map"/>
      </eAnnotations>
      <eParameters name="map">
        <eGenericType eClassifier="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EMap">
          <eTypeArguments eClassifier="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
          <eTypeArguments eClassifier="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EJavaObject"/>
        </eGenericType>
      </eParameters>
    </eOperations>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="wizardPage" eType="#//WizardPage">
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="documentation" value="used for eclipse wizard based option entering"/>
      </eAnnotations>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="ResultObject">
    <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
      <details key="documentation" value="Encapsules a view for the results of an operator execution."/>
    </eAnnotations>
    <eOperations name="getComposite" eType="#//UIComponent"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="status" eType="#//Status"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="message" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EString"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="UserInterface" abstract="true">
    <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
      <details key="documentation"/>
    </eAnnotations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="engine" eType="#//Engine"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="availableOperators" upperBound="-1"
        eType="#//Operator"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="resultProcessor" eType="#//ResultProcessor"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="TestRun">
    <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
      <details key="documentation" value="A testrun is an internal representation of one single run of the benchmarking framework, containing an ordered list of operators and the model to operate on."/>
    </eAnnotations>
    <eOperations name="getInstanceForClass">
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="documentation" value="returns a testrun unique instance of a Class.&#xD;&#xA;The idea is that an operator can register a specific class to the testrun, if another operator use the same class and is aware of other operators, he can just reuse the registered instance."/>
      </eAnnotations>
      <eGenericType eTypeParameter="#//TestRun/getInstanceForClass/returnType"/>
      <eTypeParameters name="returnType"/>
      <eParameters name="aClass">
        <eAnnotations>
          <details key="documentation" value="This is a test"/>
        </eAnnotations>
        <eGenericType eClassifier="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EJavaClass">
          <eTypeArguments eTypeParameter="#//TestRun/getInstanceForClass/returnType"/>
        </eGenericType>
      </eParameters>
    </eOperations>
    <eOperations name="setInstanceForClass" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="documentation" value="registers a testrun unique instance of a Class.&#xD;&#xA;The idea is that an operator can register a specific class to the testrun, if another operator use the same class and is aware of other operators, he can just reuse the registered instance."/>
      </eAnnotations>
      <eParameters name="aClass">
        <eGenericType eClassifier="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EJavaClass">
          <eTypeArguments/>
        </eGenericType>
      </eParameters>
      <eParameters name="anObject" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EJavaObject"/>
    </eOperations>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="model" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EResourceSet"
        transient="true">
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="documentation" value="The model instance for a testrun&#xD;&#xA;If using other formats than EResourceSet @see getInstanceForClass"/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EReference" name="operators" upperBound="-1"
        eType="#//Operator" eOpposite="#//Operator/testRun">
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="documentation" value="All operator, that should be executed on exuting the testrun&#xD;&#xA;"/>
      </eAnnotations>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EDataType" name="OutputStream" instanceClassName="java.io.OutputStream"/>
  <eClassifiers xsi:type="ecore:EDataType" name="WizardPage" instanceClassName="org.eclipse.jface.wizard.WizardPage"/>
  <eClassifiers xsi:type="ecore:EDataType" name="UIComponent" instanceClassName="org.eclipse.swt.widgets.Composite"/>
  <eClassifiers xsi:type="ecore:EDataType" name="Exception" instanceClassName="java.lang.Exception"
      serializable="false"/>
  <eClassifiers xsi:type="ecore:EEnum" name="Status">
    <eLiterals name="FAILED" value="1"/>
    <eLiterals name="SUCCESSFULL" value="2" literal=""/>
    <eLiterals name="UNKOWN"/>
  </eClassifiers>
</ecore:EPackage>
