<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_14) on Thu Jul 30 14:17:57 CEST 2009 -->
<TITLE>
Peer
</TITLE>

<META NAME="date" CONTENT="2009-07-30">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Peer";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../com/sap/runlet/operationaltransformation/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/sap/runlet/operationaltransformation/Operation.html" title="interface in com.sap.runlet.operationaltransformation"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="class in com.sap.runlet.operationaltransformation"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?com/sap/runlet/operationaltransformation/Peer.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Peer.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.sap.runlet.operationaltransformation</FONT>
<BR>
Interface Peer&lt;O extends <A HREF="../../../../com/sap/runlet/operationaltransformation/Operation.html" title="interface in com.sap.runlet.operationaltransformation">Operation</A>&lt;S&gt;,S&gt;</H2>
<DL>
<DT><DT><B>Type Parameters:</B><DD><CODE>O</CODE> - the type of operations that can be applied to the states<DD><CODE>S</CODE> - the type of the states on which the operations perform changes</DL>
<DL>
<DT><B>All Known Implementing Classes:</B> <DD><A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="class in com.sap.runlet.operationaltransformation">PeerImpl</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public interface <B>Peer&lt;O extends <A HREF="../../../../com/sap/runlet/operationaltransformation/Operation.html" title="interface in com.sap.runlet.operationaltransformation">Operation</A>&lt;S&gt;,S&gt;</B></DL>
</PRE>

<P>
Accepts change operations from clients and maintains a shared state. If new
 clients connect, the full state can be sent to the client for initial
 synchronization. When a change <A HREF="../../../../com/sap/runlet/operationaltransformation/Operation.html" title="interface in com.sap.runlet.operationaltransformation"><CODE>Operation</CODE></A> is received from a client
 that operation will be based on some state. Since that state the
 server may have applied one or more change operations already. In order to
 synchronize the requesting client, the server transforms all in-between
 change operations for the requesting client and sends those transformation
 results back to the requesting client. The client's operation, in turn, is
 disseminated to all other clients for them to merge into their local replica
 of the global state.
<P>

<P>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html" title="type parameter in Peer">S</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html#addPeer(com.sap.runlet.operationaltransformation.Peer)">addPeer</A></B>(<A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html" title="interface in com.sap.runlet.operationaltransformation">Peer</A>&lt;<A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html" title="type parameter in Peer">O</A>,<A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html" title="type parameter in Peer">S</A>&gt;&nbsp;peer)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Registers a peer with this peer for replication.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html#apply(O)">apply</A></B>(<A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html" title="type parameter in Peer">O</A>&nbsp;operation)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Applies a change operation locally to the current peer's state.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html#apply(com.sap.runlet.operationaltransformation.Peer, O, int)">apply</A></B>(<A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html" title="interface in com.sap.runlet.operationaltransformation">Peer</A>&lt;<A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html" title="type parameter in Peer">O</A>,<A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html" title="type parameter in Peer">S</A>&gt;&nbsp;source,
      <A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html" title="type parameter in Peer">O</A>&nbsp;operation,
      int&nbsp;numberOfOperationsSourceHasMergedFromThis)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Usually, the framework handles calls to this method and framework users
 should therefore not need to call this method.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html#confirm(com.sap.runlet.operationaltransformation.Peer, int)">confirm</A></B>(<A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html" title="interface in com.sap.runlet.operationaltransformation">Peer</A>&lt;<A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html" title="type parameter in Peer">O</A>,<A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html" title="type parameter in Peer">S</A>&gt;&nbsp;source,
        int&nbsp;numberOfMergedOperations)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tells this peer that the <tt>source</tt> peer has successfully merged
 <tt>numberOfMergedOperations</tt> altogether coming from this peer
 into its operation sequence.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html" title="type parameter in Peer">S</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html#getCurrentState()">getCurrentState</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tells the current state in which the peer is.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html#waitForNotRunning()">waitForNotRunning</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Blocks until the queue of tasks that works on achieving consistency across peers
 has completely drained.</TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="addPeer(com.sap.runlet.operationaltransformation.Peer)"><!-- --></A><H3>
addPeer</H3>
<PRE>
<A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html" title="type parameter in Peer">S</A> <B>addPeer</B>(<A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html" title="interface in com.sap.runlet.operationaltransformation">Peer</A>&lt;<A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html" title="type parameter in Peer">O</A>,<A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html" title="type parameter in Peer">S</A>&gt;&nbsp;peer)</PRE>
<DL>
<DD>Registers a peer with this peer for replication. From this point on, this
 peer will remember which operations it has forwarded to that peer for
 later transformation jobs for operations coming in from that client.<p>
 
 The <tt>peer</tt> is expected to set the state returned by this operation
 as its initial state.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the current server state; the calling client can use this as its
         initial state</DL>
</DD>
</DL>
<HR>

<A NAME="apply(com.sap.runlet.operationaltransformation.Peer,com.sap.runlet.operationaltransformation.Operation,int)"><!-- --></A><A NAME="apply(com.sap.runlet.operationaltransformation.Peer, O, int)"><!-- --></A><H3>
apply</H3>
<PRE>
void <B>apply</B>(<A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html" title="interface in com.sap.runlet.operationaltransformation">Peer</A>&lt;<A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html" title="type parameter in Peer">O</A>,<A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html" title="type parameter in Peer">S</A>&gt;&nbsp;source,
           <A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html" title="type parameter in Peer">O</A>&nbsp;operation,
           int&nbsp;numberOfOperationsSourceHasMergedFromThis)</PRE>
<DL>
<DD>Usually, the framework handles calls to this method and framework users
 should therefore not need to call this method.
 <p>
 
 Synchronizes an <tt>operation</tt> from the <tt>source</tt> peer to this
 peer. The <tt>source</tt> peer specifies how many operations from this
 peer it already merged into its operations sequence before having
 executed <tt>operation</tt>.
 <p>
 
 The operation has to be transformed using this peer's operational
 transformation and using the sequence of operations applied to the
 operation's start state up to this peer's current state. This results in
 the operation that needs to be applied to the current state to produce
 the next state.
 <p>
 
 After applying this possibly transformed operation to this peer's current
 state and thus producing a new current state, all registered peers except
 <tt>source</tt> are notified about the change by sending them the
 transformed operation.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="apply(com.sap.runlet.operationaltransformation.Operation)"><!-- --></A><A NAME="apply(O)"><!-- --></A><H3>
apply</H3>
<PRE>
void <B>apply</B>(<A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html" title="type parameter in Peer">O</A>&nbsp;operation)</PRE>
<DL>
<DD>Applies a change operation locally to the current peer's state.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="confirm(com.sap.runlet.operationaltransformation.Peer, int)"><!-- --></A><H3>
confirm</H3>
<PRE>
void <B>confirm</B>(<A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html" title="interface in com.sap.runlet.operationaltransformation">Peer</A>&lt;<A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html" title="type parameter in Peer">O</A>,<A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html" title="type parameter in Peer">S</A>&gt;&nbsp;source,
             int&nbsp;numberOfMergedOperations)</PRE>
<DL>
<DD>Tells this peer that the <tt>source</tt> peer has successfully merged
 <tt>numberOfMergedOperations</tt> altogether coming from this peer
 into its operation sequence. This peer can take this as an opportunity
 to clean up the queue and remove the transformed copies of all operations
 up to number <tt>numberOfMergedOperations-1</tt>.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getCurrentState()"><!-- --></A><H3>
getCurrentState</H3>
<PRE>
<A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html" title="type parameter in Peer">S</A> <B>getCurrentState</B>()</PRE>
<DL>
<DD>Tells the current state in which the peer is. This is the state constructed by
 the sequence of calls to <A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html#apply(O)"><CODE>apply(Operation)</CODE></A> and the merged in notifications
 from other peers.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="waitForNotRunning()"><!-- --></A><H3>
waitForNotRunning</H3>
<PRE>
void <B>waitForNotRunning</B>()</PRE>
<DL>
<DD>Blocks until the queue of tasks that works on achieving consistency across peers
 has completely drained.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../com/sap/runlet/operationaltransformation/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/sap/runlet/operationaltransformation/Operation.html" title="interface in com.sap.runlet.operationaltransformation"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="class in com.sap.runlet.operationaltransformation"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?com/sap/runlet/operationaltransformation/Peer.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Peer.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
