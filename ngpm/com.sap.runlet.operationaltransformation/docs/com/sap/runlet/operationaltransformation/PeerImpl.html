<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_14) on Thu Jul 30 14:17:57 CEST 2009 -->
<TITLE>
PeerImpl
</TITLE>

<META NAME="date" CONTENT="2009-07-30">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="PeerImpl";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../com/sap/runlet/operationaltransformation/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html" title="interface in com.sap.runlet.operationaltransformation"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/sap/runlet/operationaltransformation/StatesAndOperations.html" title="class in com.sap.runlet.operationaltransformation"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?com/sap/runlet/operationaltransformation/PeerImpl.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="PeerImpl.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.sap.runlet.operationaltransformation</FONT>
<BR>
Class PeerImpl&lt;O extends <A HREF="../../../../com/sap/runlet/operationaltransformation/Operation.html" title="interface in com.sap.runlet.operationaltransformation">Operation</A>&lt;S&gt;,S&gt;</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>com.sap.runlet.operationaltransformation.PeerImpl&lt;O,S&gt;</B>
</PRE>
<DL>
<DT><DT><B>Type Parameters:</B><DD><CODE>O</CODE> - type of change operations to be processed by this server<DD><CODE>S</CODE> - type of state managed by this server to which the operations can be applied</DL>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html" title="interface in com.sap.runlet.operationaltransformation">Peer</A>&lt;O,S&gt;</DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>PeerImpl&lt;O extends <A HREF="../../../../com/sap/runlet/operationaltransformation/Operation.html" title="interface in com.sap.runlet.operationaltransformation">Operation</A>&lt;S&gt;,S&gt;</B><DT>extends java.lang.Object<DT>implements <A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html" title="interface in com.sap.runlet.operationaltransformation">Peer</A>&lt;O,S&gt;</DL>
</PRE>

<P>
A very simple peer implementation for operational transformations that starts
 out with a provided initial state and then receives operations which it applies
 to its state. It manages a set of clients. Using the <tt>server</tt> constructor
 parameter one can configure whether this peer is a client or a server.
<P>

<P>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html#PeerImpl(java.lang.String, com.sap.runlet.operationaltransformation.Transformer, com.sap.runlet.operationaltransformation.Peer)">PeerImpl</A></B>(java.lang.String&nbsp;name,
         <A HREF="../../../../com/sap/runlet/operationaltransformation/Transformer.html" title="interface in com.sap.runlet.operationaltransformation">Transformer</A>&lt;<A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">O</A>&gt;&nbsp;transformer,
         <A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html" title="interface in com.sap.runlet.operationaltransformation">Peer</A>&lt;<A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">O</A>,<A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">S</A>&gt;&nbsp;server)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constructs a client peer with a name and connects it to the
 <tt>server</tt> peer, establishing the two-way link between client and
 server peers.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html#PeerImpl(java.lang.String, com.sap.runlet.operationaltransformation.Transformer, S, boolean)">PeerImpl</A></B>(java.lang.String&nbsp;name,
         <A HREF="../../../../com/sap/runlet/operationaltransformation/Transformer.html" title="interface in com.sap.runlet.operationaltransformation">Transformer</A>&lt;<A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">O</A>&gt;&nbsp;transformer,
         <A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">S</A>&nbsp;initialState,
         boolean&nbsp;server)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html#PeerImpl(com.sap.runlet.operationaltransformation.Transformer, com.sap.runlet.operationaltransformation.Peer)">PeerImpl</A></B>(<A HREF="../../../../com/sap/runlet/operationaltransformation/Transformer.html" title="interface in com.sap.runlet.operationaltransformation">Transformer</A>&lt;<A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">O</A>&gt;&nbsp;transformer,
         <A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html" title="interface in com.sap.runlet.operationaltransformation">Peer</A>&lt;<A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">O</A>,<A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">S</A>&gt;&nbsp;server)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constructs a client peer and connects it to the <tt>server</tt> peer, establishing
 the two-way link between client and server peers.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html#PeerImpl(com.sap.runlet.operationaltransformation.Transformer, S, boolean)">PeerImpl</A></B>(<A HREF="../../../../com/sap/runlet/operationaltransformation/Transformer.html" title="interface in com.sap.runlet.operationaltransformation">Transformer</A>&lt;<A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">O</A>&gt;&nbsp;transformer,
         <A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">S</A>&nbsp;initialState,
         boolean&nbsp;server)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">S</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html#addPeer(com.sap.runlet.operationaltransformation.Peer)">addPeer</A></B>(<A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html" title="interface in com.sap.runlet.operationaltransformation">Peer</A>&lt;<A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">O</A>,<A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">S</A>&gt;&nbsp;peer)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Registers a peer with this peer for replication.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html#apply(O)">apply</A></B>(<A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">O</A>&nbsp;operation)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Applies a change operation locally to the current peer's state.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html#apply(com.sap.runlet.operationaltransformation.Peer, O, int)">apply</A></B>(<A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html" title="interface in com.sap.runlet.operationaltransformation">Peer</A>&lt;<A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">O</A>,<A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">S</A>&gt;&nbsp;source,
      <A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">O</A>&nbsp;operation,
      int&nbsp;numberOfOperationsSourceHasMergedFromThis)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Usually, the framework handles calls to this method and framework users
 should therefore not need to call this method.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html#confirm(com.sap.runlet.operationaltransformation.Peer, int)">confirm</A></B>(<A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html" title="interface in com.sap.runlet.operationaltransformation">Peer</A>&lt;<A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">O</A>,<A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">S</A>&gt;&nbsp;source,
        int&nbsp;numberOfMergedOperations)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tells this peer that the <tt>source</tt> peer has successfully merged
 <tt>numberOfMergedOperations</tt> altogether coming from this peer
 into its operation sequence.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html#finalize()">finalize</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">S</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html#getCurrentState()">getCurrentState</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tells the current state in which the peer is.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html#toString()">toString</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html#waitForNotRunning()">waitForNotRunning</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Blocks until the queue of tasks that works on achieving consistency across peers
 has completely drained.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, getClass, hashCode, notify, notifyAll, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="PeerImpl(com.sap.runlet.operationaltransformation.Transformer,java.lang.Object,boolean)"><!-- --></A><A NAME="PeerImpl(com.sap.runlet.operationaltransformation.Transformer, S, boolean)"><!-- --></A><H3>
PeerImpl</H3>
<PRE>
public <B>PeerImpl</B>(<A HREF="../../../../com/sap/runlet/operationaltransformation/Transformer.html" title="interface in com.sap.runlet.operationaltransformation">Transformer</A>&lt;<A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">O</A>&gt;&nbsp;transformer,
                <A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">S</A>&nbsp;initialState,
                boolean&nbsp;server)</PRE>
<DL>
</DL>
<HR>

<A NAME="PeerImpl(java.lang.String,com.sap.runlet.operationaltransformation.Transformer,java.lang.Object,boolean)"><!-- --></A><A NAME="PeerImpl(java.lang.String, com.sap.runlet.operationaltransformation.Transformer, S, boolean)"><!-- --></A><H3>
PeerImpl</H3>
<PRE>
public <B>PeerImpl</B>(java.lang.String&nbsp;name,
                <A HREF="../../../../com/sap/runlet/operationaltransformation/Transformer.html" title="interface in com.sap.runlet.operationaltransformation">Transformer</A>&lt;<A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">O</A>&gt;&nbsp;transformer,
                <A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">S</A>&nbsp;initialState,
                boolean&nbsp;server)</PRE>
<DL>
</DL>
<HR>

<A NAME="PeerImpl(com.sap.runlet.operationaltransformation.Transformer, com.sap.runlet.operationaltransformation.Peer)"><!-- --></A><H3>
PeerImpl</H3>
<PRE>
public <B>PeerImpl</B>(<A HREF="../../../../com/sap/runlet/operationaltransformation/Transformer.html" title="interface in com.sap.runlet.operationaltransformation">Transformer</A>&lt;<A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">O</A>&gt;&nbsp;transformer,
                <A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html" title="interface in com.sap.runlet.operationaltransformation">Peer</A>&lt;<A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">O</A>,<A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">S</A>&gt;&nbsp;server)</PRE>
<DL>
<DD>Constructs a client peer and connects it to the <tt>server</tt> peer, establishing
 the two-way link between client and server peers. The initial state is taken from
 the server.
<P>
</DL>
<HR>

<A NAME="PeerImpl(java.lang.String, com.sap.runlet.operationaltransformation.Transformer, com.sap.runlet.operationaltransformation.Peer)"><!-- --></A><H3>
PeerImpl</H3>
<PRE>
public <B>PeerImpl</B>(java.lang.String&nbsp;name,
                <A HREF="../../../../com/sap/runlet/operationaltransformation/Transformer.html" title="interface in com.sap.runlet.operationaltransformation">Transformer</A>&lt;<A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">O</A>&gt;&nbsp;transformer,
                <A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html" title="interface in com.sap.runlet.operationaltransformation">Peer</A>&lt;<A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">O</A>,<A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">S</A>&gt;&nbsp;server)</PRE>
<DL>
<DD>Constructs a client peer with a name and connects it to the
 <tt>server</tt> peer, establishing the two-way link between client and
 server peers. The initial state is taken from the server.
<P>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="finalize()"><!-- --></A><H3>
finalize</H3>
<PRE>
public void <B>finalize</B>()</PRE>
<DL>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE>finalize</CODE> in class <CODE>java.lang.Object</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="addPeer(com.sap.runlet.operationaltransformation.Peer)"><!-- --></A><H3>
addPeer</H3>
<PRE>
public <A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">S</A> <B>addPeer</B>(<A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html" title="interface in com.sap.runlet.operationaltransformation">Peer</A>&lt;<A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">O</A>,<A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">S</A>&gt;&nbsp;peer)</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html#addPeer(com.sap.runlet.operationaltransformation.Peer)">Peer</A></CODE></B></DD>
<DD>Registers a peer with this peer for replication. From this point on, this
 peer will remember which operations it has forwarded to that peer for
 later transformation jobs for operations coming in from that client.<p>
 
 The <tt>peer</tt> is expected to set the state returned by this operation
 as its initial state.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html#addPeer(com.sap.runlet.operationaltransformation.Peer)">addPeer</A></CODE> in interface <CODE><A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html" title="interface in com.sap.runlet.operationaltransformation">Peer</A>&lt;<A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">O</A> extends <A HREF="../../../../com/sap/runlet/operationaltransformation/Operation.html" title="interface in com.sap.runlet.operationaltransformation">Operation</A>&lt;<A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">S</A>&gt;,<A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">S</A>&gt;</CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the current server state; the calling client can use this as its
         initial state</DL>
</DD>
</DL>
<HR>

<A NAME="getCurrentState()"><!-- --></A><H3>
getCurrentState</H3>
<PRE>
public <A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">S</A> <B>getCurrentState</B>()</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html#getCurrentState()">Peer</A></CODE></B></DD>
<DD>Tells the current state in which the peer is. This is the state constructed by
 the sequence of calls to <A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html#apply(O)"><CODE>Peer.apply(Operation)</CODE></A> and the merged in notifications
 from other peers.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html#getCurrentState()">getCurrentState</A></CODE> in interface <CODE><A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html" title="interface in com.sap.runlet.operationaltransformation">Peer</A>&lt;<A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">O</A> extends <A HREF="../../../../com/sap/runlet/operationaltransformation/Operation.html" title="interface in com.sap.runlet.operationaltransformation">Operation</A>&lt;<A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">S</A>&gt;,<A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">S</A>&gt;</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="apply(com.sap.runlet.operationaltransformation.Operation)"><!-- --></A><A NAME="apply(O)"><!-- --></A><H3>
apply</H3>
<PRE>
public void <B>apply</B>(<A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">O</A>&nbsp;operation)</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html#apply(O)">Peer</A></CODE></B></DD>
<DD>Applies a change operation locally to the current peer's state.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html#apply(O)">apply</A></CODE> in interface <CODE><A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html" title="interface in com.sap.runlet.operationaltransformation">Peer</A>&lt;<A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">O</A> extends <A HREF="../../../../com/sap/runlet/operationaltransformation/Operation.html" title="interface in com.sap.runlet.operationaltransformation">Operation</A>&lt;<A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">S</A>&gt;,<A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">S</A>&gt;</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="apply(com.sap.runlet.operationaltransformation.Peer,com.sap.runlet.operationaltransformation.Operation,int)"><!-- --></A><A NAME="apply(com.sap.runlet.operationaltransformation.Peer, O, int)"><!-- --></A><H3>
apply</H3>
<PRE>
public void <B>apply</B>(<A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html" title="interface in com.sap.runlet.operationaltransformation">Peer</A>&lt;<A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">O</A>,<A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">S</A>&gt;&nbsp;source,
                  <A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">O</A>&nbsp;operation,
                  int&nbsp;numberOfOperationsSourceHasMergedFromThis)</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html#apply(com.sap.runlet.operationaltransformation.Peer, O, int)">Peer</A></CODE></B></DD>
<DD>Usually, the framework handles calls to this method and framework users
 should therefore not need to call this method.
 <p>
 
 Synchronizes an <tt>operation</tt> from the <tt>source</tt> peer to this
 peer. The <tt>source</tt> peer specifies how many operations from this
 peer it already merged into its operations sequence before having
 executed <tt>operation</tt>.
 <p>
 
 The operation has to be transformed using this peer's operational
 transformation and using the sequence of operations applied to the
 operation's start state up to this peer's current state. This results in
 the operation that needs to be applied to the current state to produce
 the next state.
 <p>
 
 After applying this possibly transformed operation to this peer's current
 state and thus producing a new current state, all registered peers except
 <tt>source</tt> are notified about the change by sending them the
 transformed operation.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html#apply(com.sap.runlet.operationaltransformation.Peer, O, int)">apply</A></CODE> in interface <CODE><A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html" title="interface in com.sap.runlet.operationaltransformation">Peer</A>&lt;<A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">O</A> extends <A HREF="../../../../com/sap/runlet/operationaltransformation/Operation.html" title="interface in com.sap.runlet.operationaltransformation">Operation</A>&lt;<A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">S</A>&gt;,<A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">S</A>&gt;</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="toString()"><!-- --></A><H3>
toString</H3>
<PRE>
public java.lang.String <B>toString</B>()</PRE>
<DL>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE>toString</CODE> in class <CODE>java.lang.Object</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="confirm(com.sap.runlet.operationaltransformation.Peer, int)"><!-- --></A><H3>
confirm</H3>
<PRE>
public void <B>confirm</B>(<A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html" title="interface in com.sap.runlet.operationaltransformation">Peer</A>&lt;<A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">O</A>,<A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">S</A>&gt;&nbsp;source,
                    int&nbsp;numberOfMergedOperations)</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html#confirm(com.sap.runlet.operationaltransformation.Peer, int)">Peer</A></CODE></B></DD>
<DD>Tells this peer that the <tt>source</tt> peer has successfully merged
 <tt>numberOfMergedOperations</tt> altogether coming from this peer
 into its operation sequence. This peer can take this as an opportunity
 to clean up the queue and remove the transformed copies of all operations
 up to number <tt>numberOfMergedOperations-1</tt>.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html#confirm(com.sap.runlet.operationaltransformation.Peer, int)">confirm</A></CODE> in interface <CODE><A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html" title="interface in com.sap.runlet.operationaltransformation">Peer</A>&lt;<A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">O</A> extends <A HREF="../../../../com/sap/runlet/operationaltransformation/Operation.html" title="interface in com.sap.runlet.operationaltransformation">Operation</A>&lt;<A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">S</A>&gt;,<A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">S</A>&gt;</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="waitForNotRunning()"><!-- --></A><H3>
waitForNotRunning</H3>
<PRE>
public void <B>waitForNotRunning</B>()</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html#waitForNotRunning()">Peer</A></CODE></B></DD>
<DD>Blocks until the queue of tasks that works on achieving consistency across peers
 has completely drained.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html#waitForNotRunning()">waitForNotRunning</A></CODE> in interface <CODE><A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html" title="interface in com.sap.runlet.operationaltransformation">Peer</A>&lt;<A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">O</A> extends <A HREF="../../../../com/sap/runlet/operationaltransformation/Operation.html" title="interface in com.sap.runlet.operationaltransformation">Operation</A>&lt;<A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">S</A>&gt;,<A HREF="../../../../com/sap/runlet/operationaltransformation/PeerImpl.html" title="type parameter in PeerImpl">S</A>&gt;</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../com/sap/runlet/operationaltransformation/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/sap/runlet/operationaltransformation/Peer.html" title="interface in com.sap.runlet.operationaltransformation"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/sap/runlet/operationaltransformation/StatesAndOperations.html" title="class in com.sap.runlet.operationaltransformation"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?com/sap/runlet/operationaltransformation/PeerImpl.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="PeerImpl.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
